# [AHC036](https://atcoder.jp/contests/ahc036)

## 何をするか

- T個の都市を順に訪問する
- 訪問するために信号を制御し、信号の制御回数をなるべく少なくする

- N(=600)個の都市があり、最初は都市0におり、T(=600)個の都市を順に訪問したい(訪問する都市は重複あり。ただし連続して同じ都市に訪問はしない)
- 都市間の道路はM(N-1 <= M <= 3N-6)個あり、連結である(必ずすべての都市はつながっている)
- 都市に移動するには、移動先の信号が青の時のみ移動可能でる
- 予定した訪問先に順に訪問する際、信号の制御が可能で、信号の制御の回数をなるべく少なくしたい
- 信号の制御はLA(N <= LA <= 2N)の長さの配列AとLB(4 <= LB <= 24)の長さの配列Bを使用する
- 配列Aと配列Bから同じ長さの区間を選択して、配列Aから選択した区間を、配列Bの指定した区間で書き換える
- 配列Bで指定されている都市の信号が青となる
- 配列Aは初回に決めることができる(その後は変更不可)

## 理想的な解

- 一度に信号を青にできるのはLB個
- 都市間の移動は、0から開始しT個の都市を順に訪問する
- 都市間の移動は、DFSなどで最短経路を求める事ができる。最短経路の和が移動回数の最小で、LTと置く
- 理想的な制御ができたとすると、LT/LBが、信号の制御回数の最小値

## 理想的な解に近づけるために行うこと

- 都市間の移動は最短経路である方がよい。ただし信号の制御回数を抑えることができるなら、遠回りしてもよい
- 一度に信号を青にできる個数はLB個と限られており、一度に信号を青にできる対象は配列Aに依存する
- 配列Aの並びは、都市間の道路で隣接しているor近い都市を並べた方が良い

- 初期: 配列Aの並びを最適化するにはどうすればよいか
  - 移動中の方法を考える中で初期の配列Aも最適化する必要がありそう
- 移動中: => この中で初期の配列Aを最適化する？
  - 移動の経路を決定する
  - 信号を青にする対象を決定する
